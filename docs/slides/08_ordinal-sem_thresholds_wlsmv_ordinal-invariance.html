<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Tommaso Feraco">
  <title>SEM-PhD – SEM with ordinal variables</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-a589dfdd18e65617bd4e8915e98a7fff.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="shortcut icon" href="../assets/images/faviconpsicostat2.png">

  <script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>

  <link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="../assets/images/psicostatLogo.png" data-background-opacity="0.15" data-background-size="contain" class="quarto-title-block center">
  <h1 class="title">SEM with ordinal variables</h1>
  <p class="subtitle">Ordinal indicators: thresholds, DWLS/WLSMV, and invariance</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Tommaso Feraco 
</div>
</div>
</div>

</section>
<section id="today-in-the-workflow" class="slide level2">
<h2>Today in the workflow</h2>
<p><strong>Specify → Identify → Estimate → Evaluate → Revise/Report</strong></p>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p><strong>Today:</strong> extending SEM to <strong>ordinal (ordered-categorical)</strong> indicators:<br>
thresholds, polychoric correlations, <strong>DWLS/WLSMV (and ULS)</strong>, and what changes in <strong>model fit</strong> and <strong>invariance</strong>.</p>
</div>
</div>
</div>
</section>
<section id="learning-objectives" class="slide level2">
<h2>Learning objectives</h2>
<p>By the end of this session you should be able to:</p>
<ul>
<li>Explain the <strong>latent-response</strong> view of ordinal items and the role of <strong>thresholds</strong></li>
<li>Know when treating Likert items as continuous is risky (few categories / skewed distributions)</li>
<li>Fit ordinal CFA/SEM in <strong>lavaan</strong> using <code>ordered=</code> and appropriate estimators (DWLS/WLSMV/ULS)</li>
<li>Understand how (and why) <strong>global fit indices</strong> behave differently with ordinal data</li>
<li>Run <strong>MG-CFA invariance</strong> with ordinal indicators (thresholds first, then loadings)</li>
</ul>
</section>
<section id="introduction" class="slide level2">
<h2>Introduction</h2>
<p>In psychology we rarely have data that are normally distributed or that follow a continuous distribution. Our data are probably ordinal or the consequence of ordinal/dichotomous processes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>); n<span class="ot">=</span><span class="dv">10000</span>; items <span class="ot">=</span> <span class="dv">30</span>;</span>
<span id="cb1-2"><a aria-hidden="true" tabindex="-1"></a>score <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(n,items, <span class="fu">rnorm</span>(n,.<span class="dv">80</span>,.<span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="08_ordinal-sem_thresholds_wlsmv_ordinal-invariance_files/figure-revealjs/unnamed-chunk-2-1.png" width="864" class="r-stretch"><p><code>COMMENTS?</code></p>
</section>
<section id="introduction-1" class="slide level2">
<h2>Introduction</h2>
<p>However, we postulate that they are generated from continuous normal latent distributions</p>

<img data-src="08_ordinal-sem_thresholds_wlsmv_ordinal-invariance_files/figure-revealjs/unnamed-chunk-3-1.png" width="864" class="r-stretch"><p><code>COMMENTS?</code></p>
</section>
<section id="likert-scales" class="slide level2">
<h2>Likert scales</h2>
<p>This also applies to Liker scales, where the difference between reporting a score of 1 or 2, and the difference between reporting a score of 2 or 3 is not the same!</p>

<img data-src="08_ordinal-sem_thresholds_wlsmv_ordinal-invariance_files/figure-revealjs/unnamed-chunk-4-1.png" width="960" class="r-stretch"></section>
<section id="the-adaptability-data" class="slide level2">
<h2>The <code>adaptability</code> data</h2>
<p>And in real data they are often not normally distributed</p>

<img data-src="08_ordinal-sem_thresholds_wlsmv_ordinal-invariance_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"></section>
<section id="wrong-correlations" class="slide level2">
<h2>Wrong correlations</h2>
<p>Unfortunately, when we use data that follow discrete distributions and treat them as they were continuous, we can fail to recreate true correlation matrices accurately. That’s why you usually use polychoric correlations with dichotomous or ordinal variables.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="08_ordinal-sem_thresholds_wlsmv_ordinal-invariance_files/figure-revealjs/unnamed-chunk-7-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="08_ordinal-sem_thresholds_wlsmv_ordinal-invariance_files/figure-revealjs/unnamed-chunk-8-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>Data were generated from a multivariate normal distribution using <code>MASS::mvrnorm</code> and then manually truncated on a 3-point scale</p>
</div>
</div>
</div>
<p>This, of course, has consequences on SEM parameters, which are based on covariance</p>
</section>
<section id="in-lavaan-and-sem" class="slide level2">
<h2>In <code>lavaan</code> and SEM</h2>
<p>To estimate a model treating items/observations as ordinal data, we need to change the estimationd method</p>
<ul>
<li><code>ML</code> is not always accurate with ordinal data (especially with few categories)</li>
<li><code>lavaan</code>, when <code>ordered</code> is <code>TRUE</code>, automatically use <code>WLSMV</code> (diagonally weighted least squares)</li>
<li>A great alternative is <code>ULS</code>, but has more convergence problems</li>
<li>We can also use robust ML alternatives, like <code>MLR</code></li>
<li>Other available estimators: lavaan tutorial on estimators (see <a href="https://lavaan.ugent.be/tutorial/est.html">here</a>)</li>
</ul>
</section>
<section id="how-to-fit-a-cfa-with-ordinal-data" class="slide level2">
<h2>How to fit a CFA with ordinal data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a aria-hidden="true" tabindex="-1"></a><span class="co"># THE MODEL IS SPECIFIED AS USUAL</span></span>
<span id="cb3-2"><a aria-hidden="true" tabindex="-1"></a>mOrd <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb3-3"><a aria-hidden="true" tabindex="-1"></a><span class="st">cb =~ Adaptability_1 + Adaptability_2 + Adaptability_3 + </span></span>
<span id="cb3-4"><a aria-hidden="true" tabindex="-1"></a><span class="st">      Adaptability_4 + Adaptability_5 + Adaptability_6</span></span>
<span id="cb3-5"><a aria-hidden="true" tabindex="-1"></a><span class="st">em =~ Adaptability_7 + Adaptability_8 + Adaptability_9</span></span>
<span id="cb3-6"><a aria-hidden="true" tabindex="-1"></a><span class="st">em ~~ cb</span></span>
<span id="cb3-7"><a aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb3-8"><a aria-hidden="true" tabindex="-1"></a><span class="co"># WE JUST NEED TO ADD</span></span>
<span id="cb3-9"><a aria-hidden="true" tabindex="-1"></a>fitOrd <span class="ot">&lt;-</span> <span class="fu">sem</span>(mOrd, D.ad, <span class="at">std.lv=</span>T,</span>
<span id="cb3-10"><a aria-hidden="true" tabindex="-1"></a>              <span class="at">estimator =</span> <span class="st">"ULS"</span>, <span class="co"># optional</span></span>
<span id="cb3-11"><a aria-hidden="true" tabindex="-1"></a>              <span class="at">ordered =</span> <span class="fu">colnames</span>(D.ad)) <span class="co"># the list of ord vars</span></span>
<span id="cb3-12"><a aria-hidden="true" tabindex="-1"></a><span class="co">#             ordered = T) # or just "TRUE" if all ordered       </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="results-1" class="slide level2">
<h2>Results (1)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a>temp <span class="ot">=</span> <span class="fu">capture.output</span>(<span class="fu">summary</span>(fitOrd, <span class="at">std=</span>T))</span>
<span id="cb4-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">c</span>(temp[<span class="dv">1</span><span class="sc">:</span><span class="dv">21</span>], <span class="st">"[...]"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 16 iterations

  Estimator                                        ULS
  Optimization method                           NLMINB
  Number of model parameters                        64

                                                  Used       Total
  Number of observations                          1044        1083

Model Test User Model:
                                                      
  Test statistic                                73.746
  Degrees of freedom                                26
  P-value (Unknown)                                 NA

Parameter Estimates:

  Parameterization                               Delta
  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model        Unstructured
[...]</code></pre>
</div>
</div>
</section>
<section id="results-2" class="slide level2">
<h2>Results (2)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[...]

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  cb =~                                                                 
    Adaptability_1    0.659    0.021   30.831    0.000    0.659    0.659
    Adaptability_2    0.659    0.021   30.841    0.000    0.659    0.659
    Adaptability_3    0.664    0.021   30.983    0.000    0.664    0.664
    Adaptability_4    0.551    0.020   26.957    0.000    0.551    0.551
    Adaptability_5    0.619    0.021   29.486    0.000    0.619    0.619
    Adaptability_6    0.553    0.020   27.012    0.000    0.553    0.553
  em =~                                                                 
    Adaptability_7    0.642    0.026   24.949    0.000    0.642    0.642
    Adaptability_8    0.671    0.026   25.513    0.000    0.671    0.671
    Adaptability_9    0.699    0.027   25.983    0.000    0.699    0.699

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  cb ~~                                                                 
    em                0.587    0.022   26.729    0.000    0.587    0.587
[...]</code></pre>
</div>
</div>
</section>
<section id="results-3" class="slide level2">
<h2>Results (3)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[...]

Thresholds:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    Adaptblty_1|t1   -2.114    0.031  -68.285    0.000   -2.114   -2.114
    Adaptblty_1|t2   -1.647    0.031  -53.181    0.000   -1.647   -1.647
    Adaptblty_1|t3   -1.056    0.031  -34.089    0.000   -1.056   -1.056
    Adaptblty_1|t4   -0.320    0.031  -10.331    0.000   -0.320   -0.320
    Adaptblty_1|t5    0.495    0.031   15.982    0.000    0.495    0.495
    Adaptblty_1|t6    1.181    0.031   38.145    0.000    1.181    1.181
    Adaptblty_2|t1   -2.071    0.031  -66.899    0.000   -2.071   -2.071
    Adaptblty_2|t2   -1.421    0.031  -45.908    0.000   -1.421   -1.421
    Adaptblty_2|t3   -0.794    0.031  -25.642    0.000   -0.794   -0.794
    Adaptblty_2|t4   -0.188    0.031   -6.084    0.000   -0.188   -0.188
    Adaptblty_2|t5    0.492    0.031   15.895    0.000    0.492    0.492
    Adaptblty_2|t6    1.257    0.031   40.590    0.000    1.257    1.257
    Adaptblty_3|t1   -1.930    0.031  -62.322    0.000   -1.930   -1.930
    Adaptblty_3|t2   -1.415    0.031  -45.696    0.000   -1.415   -1.415
    Adaptblty_3|t3   -0.858    0.031  -27.715    0.000   -0.858   -0.858
    Adaptblty_3|t4   -0.250    0.031   -8.070    0.000   -0.250   -0.250
    Adaptblty_3|t5    0.350    0.031   11.316    0.000    0.350    0.350
    Adaptblty_3|t6    1.162    0.031   37.529    0.000    1.162    1.162
[...]</code></pre>
</div>
</div>
</section>
<section id="results-4" class="slide level2">
<h2>Results (4)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[...]
    Adaptblty_4|t1   -1.962    0.031  -63.351    0.000   -1.962   -1.962
    Adaptblty_4|t2   -1.476    0.031  -47.680    0.000   -1.476   -1.476
    Adaptblty_4|t3   -0.817    0.031  -26.393    0.000   -0.817   -0.817
    Adaptblty_4|t4   -0.257    0.031   -8.310    0.000   -0.257   -0.257
    Adaptblty_4|t5    0.295    0.031    9.518    0.000    0.295    0.295
    Adaptblty_4|t6    1.094    0.031   35.332    0.000    1.094    1.094
    Adaptblty_5|t1   -1.978    0.031  -63.891    0.000   -1.978   -1.978
    Adaptblty_5|t2   -1.408    0.031  -45.486    0.000   -1.408   -1.408
    Adaptblty_5|t3   -0.781    0.031  -25.219    0.000   -0.781   -0.781
    Adaptblty_5|t4   -0.196    0.031   -6.321    0.000   -0.196   -0.196
    Adaptblty_5|t5    0.397    0.031   12.812    0.000    0.397    0.397
    Adaptblty_5|t6    1.081    0.031   34.912    0.000    1.081    1.081
    Adaptblty_6|t1   -1.705    0.031  -55.076    0.000   -1.705   -1.705
    Adaptblty_6|t2   -1.186    0.031  -38.302    0.000   -1.186   -1.186
    Adaptblty_6|t3   -0.654    0.031  -21.106    0.000   -0.654   -0.654
    Adaptblty_6|t4   -0.055    0.031   -1.784    0.074   -0.055   -0.055
    Adaptblty_6|t5    0.519    0.031   16.776    0.000    0.519    0.519
    Adaptblty_6|t6    1.211    0.031   39.097    0.000    1.211    1.211
[...]
[...]</code></pre>
</div>
</div>
</section>
<section id="thresholds-1" class="slide level2">
<h2>Thresholds (1)</h2>
<ul>
<li>We can assume that a discrete variable <span class="math inline">\(x\)</span> (expressed with <span class="math inline">\(k\)</span> ordered categories) represents an approximation of a continuous latent variable <span class="math inline">\(\xi\)</span>, normally distributed with mean 0.</li>
<li>Therefore, when we observe <span class="math inline">\(x = i\)</span>, it means that the true corresponding value <span class="math inline">\(\xi\)</span> is ranging between two values, i.e.</li>
</ul>
<p><span class="math display">\[
\alpha_{i-1} &lt; \xi \leq \alpha_i
\]</span> where <span class="math inline">\(\alpha_0 = - \infty, \alpha_1 &lt; \alpha_2 &lt; \dots &lt; \alpha_{k-1}\)</span> e <span class="math inline">\(\alpha_k = +\infty\)</span> are the thresholds - Consequenlty we will have that, given a discrete ordered variable with <span class="math inline">\(k\)</span> possible values, there are <span class="math inline">\(k - 1\)</span> unknown thresholds.</p>
</section>
<section id="thresholds-2" class="slide level2">
<h2>Thresholds (2)</h2>
<p>Thresholds represent the link between the (continuous) latent variable <span class="math inline">\(\xi\)</span> and the observed values (on a discrete scale).</p>
<p>For example, the item <code>Adaptability_1</code></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] -2.11 -1.65 -1.06 -0.32  0.49  1.18</code></pre>
</div>
</div>
<p>That we can manually compute as:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">qnorm</span>(<span class="fu">cumsum</span>(<span class="fu">table</span>(D.ad<span class="sc">$</span>Adaptability_1)) <span class="sc">/</span></span>
<span id="cb10-2"><a aria-hidden="true" tabindex="-1"></a>             <span class="fu">sum</span>(<span class="fu">table</span>(D.ad<span class="sc">$</span>Adaptability_1))),<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    1     2     3     4     5     6     7 
-2.12 -1.65 -1.06 -0.32  0.49  1.18   Inf </code></pre>
</div>
</div>
</section>
<section id="results-5" class="slide level2">
<h2>Results (5)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[...]
Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .Adaptability_1    0.566                               0.566    0.566
   .Adaptability_2    0.565                               0.565    0.565
   .Adaptability_3    0.559                               0.559    0.559
   .Adaptability_4    0.696                               0.696    0.696
   .Adaptability_5    0.616                               0.616    0.616
   .Adaptability_6    0.695                               0.695    0.695
   .Adaptability_7    0.588                               0.588    0.588
   .Adaptability_8    0.550                               0.550    0.550
   .Adaptability_9    0.511                               0.511    0.511
    cb                1.000                               1.000    1.000
    em                1.000                               1.000    1.000

[...]</code></pre>
</div>
</div>
</section>
<section id="model-fit" class="slide level2">
<h2>Model fit</h2>
<p>This works as usual</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a aria-hidden="true" tabindex="-1"></a>fi <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"npar"</span>, <span class="st">"df"</span>, <span class="st">"chisq"</span>, </span>
<span id="cb13-2"><a aria-hidden="true" tabindex="-1"></a>        <span class="st">"cfi"</span>, <span class="st">"tli"</span>, <span class="st">"nnfi"</span>, <span class="st">"agfi"</span>, </span>
<span id="cb13-3"><a aria-hidden="true" tabindex="-1"></a>        <span class="st">"srmr"</span>, <span class="st">"rmsea"</span>, <span class="st">"bic"</span>, <span class="st">"aic"</span>)</span>
<span id="cb13-4"><a aria-hidden="true" tabindex="-1"></a><span class="fu">fitmeasures</span>(fitOrd, <span class="at">fit.measures =</span> fi)</span>
<span id="cb13-5"><a aria-hidden="true" tabindex="-1"></a><span class="co"># OR inspect(fitOrd, "fit")[fi]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    npar       df    chisq 
64.00000 26.00000 73.74574 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      cfi       tli      nnfi      agfi 
0.9883022 0.9838030 0.9838030 0.9964375 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      srmr      rmsea        bic        aic 
0.03963876 0.04196029         NA         NA </code></pre>
</div>
</div>
<p><code>BUT YOU CANNOT INTERPRET THEM AS WE USED TO DO!</code></p>
</section>
<section id="model-fit-references" class="slide level2">
<h2>Model fit, references</h2>
<p>Some references for model fit with ordinal data:</p>
<ul>
<li>RMSEA (doi:10.1080/10705511.2019.1611434) tends to reject models with large datasets and 5-point scales</li>
<li>CFI and TLI tend to overestimate model fit</li>
<li>SRMR seems to be less biased</li>
</ul>
<p>But there are many contradictory suggestions and it is not easy to navigate them. Look for what you need as simulation studies depend on many variables.</p>
<p>This (doi:10.1027/2698-1866/a000034) might be a helpful summary/reflection.</p>
</section>
<section id="reviewer-2" class="slide level2">
<h2>Reviewer 2</h2>

<img data-src="../assets/images/reviewer2.png" style="width:94.0%" class="r-stretch"></section>
<section id="data-quality-checks-before-fitting" class="slide level2">
<h2>Data quality checks (before fitting)</h2>
<p>Before you run WLSMV / ordinal CFA, check:</p>
<ul>
<li><strong>Category frequencies</strong><br>
Any category with very few responses? (e.g., &lt; 5% or tiny counts)</li>
<li><strong>Empty / near-empty pairs</strong><br>
Some item pairs may have empty cells in their K×K tables → unstable polychorics</li>
<li><strong>Extreme skew / floor–ceiling</strong><br>
Items with almost everyone in the same category carry little information</li>
<li><strong>Too many categories for N</strong><br>
Many categories + modest sample size → sparse tables and unstable estimation</li>
</ul>
<div class="callout callout-tip no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>If you see sparse categories, consider collapsing adjacent categories (with a substantive rationale).</p>
</div>
</div>
</div>
</section>
<section id="what-to-do-if-categories-are-sparse" class="slide level2">
<h2>What to do if categories are sparse</h2>
<p>Options (in order of “least invasive”):</p>
<ul>
<li><p>Collapse adjacent categories (e.g., merge 1–2 or 4–5)</p>
<ul>
<li>do it consistently across groups/time if you’ll test invariance</li>
</ul></li>
<li><p>Drop an item that is essentially constant or unusable</p></li>
<li><p>Collect more data (sparse tables are fundamentally a sample-size problem)</p></li>
</ul>
<div class="callout callout-warning no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>Avoid “data-driven collapsing” that changes the construct meaning. Document the decision clearly.</p>
</div>
</div>
</div>
</section>
<section>
<section id="mg-cfa-ordinal" class="title-slide slide level1 center">
<h1>MG-CFA-ordinal</h1>

</section>
<section id="prerequisites" class="slide level2">
<h2>Prerequisites</h2>
<p>When we test multigroup invariance with ordinal data we assume that the <code>THRESHOLDS</code> are also equal between the two groups, but before running the analysis, remember:</p>
<ul>
<li>the number of parameters is higher than with continuous data…and you split the data in two or more parts! Be sure you have enough data in each group</li>
<li>all the observed indicators hold the same categories in each group, otherwise you cannot fit the model</li>
</ul>
</section>
<section id="steps" class="slide level2">
<h2>Steps</h2>
<p>The steps that you should follow fo MG-CFA with ordinal data are slightly different:</p>
<ul>
<li><strong>Baseline model</strong>, as the configural model</li>
<li><strong>Equal thresholds model</strong>, you should start by forcing the thresholds to be equal across groups</li>
<li><strong>Equal loadings and thresholds model</strong>, only now you can fix the loadings to be equal across groups</li>
</ul>
</section>
<section id="in-r" class="slide level2">
<h2>In <code>R</code></h2>
<p>I use again the adaptability items. I manually added a group variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a aria-hidden="true" tabindex="-1"></a>D.ad<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"G1"</span>, <span class="dv">428</span>), <span class="fu">rep</span>(<span class="st">"G2"</span>, <span class="dv">1083-428</span>))</span>
<span id="cb17-2"><a aria-hidden="true" tabindex="-1"></a><span class="co"># 1. FIT THE BASELINE/CONFIGURAL MODEL</span></span>
<span id="cb17-3"><a aria-hidden="true" tabindex="-1"></a>fConf <span class="ot">&lt;-</span> <span class="fu">sem</span>(mOrd, D.ad, <span class="at">std.lv=</span>T, <span class="at">estimator =</span> <span class="st">"ULS"</span>,</span>
<span id="cb17-4"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">ordered =</span> T, <span class="at">group =</span> <span class="st">"group"</span>)</span>
<span id="cb17-5"><a aria-hidden="true" tabindex="-1"></a><span class="co"># 2. FIT THE FIXED THRESHOLDS MODEL</span></span>
<span id="cb17-6"><a aria-hidden="true" tabindex="-1"></a>fTresh<span class="ot">&lt;-</span> <span class="fu">sem</span>(mOrd, D.ad, <span class="at">std.lv=</span>T, <span class="at">estimator =</span> <span class="st">"ULS"</span>,</span>
<span id="cb17-7"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">ordered =</span> T, <span class="at">group =</span> <span class="st">"group"</span>,</span>
<span id="cb17-8"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">group.equal =</span> <span class="fu">c</span>(<span class="st">"thresholds"</span>))</span>
<span id="cb17-9"><a aria-hidden="true" tabindex="-1"></a><span class="co"># 3. FIT THE FIXED LOADINGS MODEL</span></span>
<span id="cb17-10"><a aria-hidden="true" tabindex="-1"></a>fLoad <span class="ot">&lt;-</span> <span class="fu">sem</span>(mOrd, D.ad, <span class="at">std.lv=</span>T, <span class="at">estimator =</span> <span class="st">"ULS"</span>,</span>
<span id="cb17-11"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">ordered =</span> T, <span class="at">group =</span> <span class="st">"group"</span>,</span>
<span id="cb17-12"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">group.equal =</span> <span class="fu">c</span>(<span class="st">"thresholds"</span>, <span class="st">"loadings"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-fit-comparison" class="slide level2">
<h2>Model fit comparison</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a aria-hidden="true" tabindex="-1"></a>fitTable <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">fitmeasures</span>(fConf, fi),</span>
<span id="cb18-2"><a aria-hidden="true" tabindex="-1"></a>                  <span class="fu">fitmeasures</span>(fTresh, fi),</span>
<span id="cb18-3"><a aria-hidden="true" tabindex="-1"></a>                  <span class="fu">fitmeasures</span>(fLoad, fi))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table table-striped table-condensed caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">npar</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">df</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">chisq</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">cfi</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">tli</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">nnfi</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">agfi</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">srmr</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">rmsea</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">bic</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">aic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">baseline</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">91.652</td>
<td style="text-align: right;">0.990</td>
<td style="text-align: right;">0.987</td>
<td style="text-align: right;">0.987</td>
<td style="text-align: right;">0.996</td>
<td style="text-align: right;">0.044</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">thresholds</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">166.552</td>
<td style="text-align: right;">0.983</td>
<td style="text-align: right;">0.987</td>
<td style="text-align: right;">0.987</td>
<td style="text-align: right;">0.996</td>
<td style="text-align: right;">0.044</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">loadings</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">173.785</td>
<td style="text-align: right;">0.983</td>
<td style="text-align: right;">0.988</td>
<td style="text-align: right;">0.988</td>
<td style="text-align: right;">0.996</td>
<td style="text-align: right;">0.046</td>
<td style="text-align: right;">0.037</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</section>
<section id="model-results" class="slide level2">
<h2>Model results</h2>
<table class="table table-striped table-condensed caption-top" data-quarto-postprocess="true" style="font-size: 12px; width: auto !important; margin-left: auto; margin-right: auto;">
<colgroup>
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th colspan="4" data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Group 1
</div></th>
<th data-quarto-table-cell-role="th" style="empty-cells: hide; border-bottom: hidden"></th>
<th colspan="4" data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Group 2
</div></th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">lhs</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">op</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">rhs</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">est</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">||</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">lhs</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">op</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">rhs</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">est</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="9">
<td colspan="9" style="border-bottom: 1px solid"><strong>Loadings</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: right;">0.69</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_2</td>
<td style="text-align: right;">0.69</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_2</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_3</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_3</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_4</td>
<td style="text-align: right;">0.54</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_4</td>
<td style="text-align: right;">0.56</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_5</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_5</td>
<td style="text-align: right;">0.59</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_6</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_6</td>
<td style="text-align: right;">0.49</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">em</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_7</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">em</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_7</td>
<td style="text-align: right;">0.63</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">em</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_8</td>
<td style="text-align: right;">0.67</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">em</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_8</td>
<td style="text-align: right;">0.67</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">em</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_9</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">em</td>
<td style="text-align: left;">=~</td>
<td style="text-align: left;">Adaptability_9</td>
<td style="text-align: right;">0.67</td>
</tr>
<tr class="odd" data-grouplength="1">
<td colspan="9" style="border-bottom: 1px solid"><strong>Latent covariance</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">cb</td>
<td style="text-align: left;">~~</td>
<td style="text-align: left;">em</td>
<td style="text-align: right;">0.62</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">cb</td>
<td style="text-align: left;">~~</td>
<td style="text-align: left;">em</td>
<td style="text-align: right;">0.56</td>
</tr>
<tr class="odd" data-grouplength="6">
<td colspan="9" style="border-bottom: 1px solid"><strong>Thresholds</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t1</td>
<td style="text-align: right;">-2.13</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t1</td>
<td style="text-align: right;">-2.11</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t2</td>
<td style="text-align: right;">-1.69</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t2</td>
<td style="text-align: right;">-1.62</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t3</td>
<td style="text-align: right;">-1.06</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t3</td>
<td style="text-align: right;">-1.05</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t4</td>
<td style="text-align: right;">-0.36</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t4</td>
<td style="text-align: right;">-0.30</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t5</td>
<td style="text-align: right;">0.52</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t5</td>
<td style="text-align: right;">0.48</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t6</td>
<td style="text-align: right;">1.14</td>
<td style="text-align: left;">||</td>
<td style="text-align: left;">Adaptability_1</td>
<td style="text-align: left;">|</td>
<td style="text-align: left;">t6</td>
<td style="text-align: right;">1.21</td>
</tr>
</tbody>
</table>
</section>
<section id="additional-materials" class="slide level2">
<h2>Additional materials</h2>
<ul>
<li>Svetina et al.&nbsp;(doi:10.1080/10705511.2019.1602776) tutorial, suggestions, and model fit recommendations for MG-CFA with ordinal data</li>
<li>Enrico Perinelli held a <code>psicostat</code> meeting on the topic following Svetina et al.’s code</li>
</ul>
</section>
<section id="exercises-lab" class="slide level2">
<h2>Exercises → Lab</h2>
<p>Open and work through:</p>
<ul>
<li><code>labs/lab08_ordinal_sem_invariance.qmd</code></li>
</ul>
<p>Focus on:</p>
<ul>
<li>fitting the <strong>same CFA/SEM</strong> treating items as continuous vs <strong>ordered</strong></li>
<li>inspecting <strong>thresholds</strong> and (polychoric) correlations</li>
<li>MG-CFA steps with ordinal indicators (<strong>thresholds → thresholds + loadings</strong>)</li>
</ul>
</section>
<section id="take-home-summary" class="slide level2">
<h2>Take-home summary</h2>
<p><strong>Three things to remember:</strong></p>
<ol type="1">
<li>Ordinal items are usually modeled via an underlying <strong>continuous latent response</strong> + <strong>thresholds</strong></li>
<li>Estimation changes (DWLS/WLSMV/ULS), and <strong>fit indices are not “plug-and-play”</strong> as in ML for continuous data</li>
<li>With ordinal MG-CFA, <strong>threshold invariance</strong> is a key early step (often before loadings)</li>
</ol>
</section>
<section id="further-reading" class="slide level2">
<h2>Further reading</h2>
<ul>
<li>Svetina et al.&nbsp;tutorial + simulation-based guidance for ordinal MG-CFA<br>
</li>
<li>Simulation papers on fit indices with ordinal data (RMSEA/CFI/TLI/SRMR)</li>
</ul>
<p>(See the “Additional materials” slide for links.)</p>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" role="list">

</div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>